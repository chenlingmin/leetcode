import java.util.*;

class Solution2 {
    private static Map<Integer, Integer> map = new HashMap<>();
    static {
        map.put(12345, 15);
        map.put(12354, -1);
        map.put(12435, -1);
        map.put(12453, 3);
        map.put(12534, 15);
        map.put(12543, -1);
        map.put(13245, -1);
        map.put(13254, 15);
        map.put(13425, 3);
        map.put(13452, -1);
        map.put(13524, -1);
        map.put(13542, 17);
        map.put(14235, 17);
        map.put(14253, -1);
        map.put(14325, -1);
        map.put(14352, 15);
        map.put(14523, 13);
        map.put(14532, -1);
        map.put(15234, -1);
        map.put(15243, 17);
        map.put(15324, 13);
        map.put(15342, -1);
        map.put(15423, -1);
        map.put(15432, 7);
        map.put(21345, -1);
        map.put(21354, 19);
        map.put(21435, 15);
        map.put(21453, -1);
        map.put(21534, -1);
        map.put(21543, 13);
        map.put(23145, 3);
        map.put(23154, -1);
        map.put(23415, -1);
        map.put(23451, 11);
        map.put(23514, 11);
        map.put(23541, -1);
        map.put(24135, -1);
        map.put(24153, 9);
        map.put(24315, 15);
        map.put(24351, -1);
        map.put(24513, -1);
        map.put(24531, 15);
        map.put(25134, 9);
        map.put(25143, -1);
        map.put(25314, -1);
        map.put(25341, 15);
        map.put(25413, 17);
        map.put(25431, -1);
        map.put(31245, 15);
        map.put(31254, -1);
        map.put(31425, -1);
        map.put(31452, 11);
        map.put(31524, 19);
        map.put(31542, -1);
        map.put(32145, -1);
        map.put(32154, 13);
        map.put(32415, 17);
        map.put(32451, -1);
        map.put(32514, -1);
        map.put(32541, 19);
        map.put(34125, 13);
        map.put(34152, -1);
        map.put(34215, -1);
        map.put(34251, 15);
        map.put(34512, 13);
        map.put(34521, -1);
        map.put(35124, -1);
        map.put(35142, 7);
        map.put(35214, 9);
        map.put(35241, -1);
        map.put(35412, -1);
        map.put(35421, 11);
        map.put(41235, -1);
        map.put(41253, 9);
        map.put(41325, 13);
        map.put(41352, -1);
        map.put(41523, -1);
        map.put(41532, 9);
        map.put(42135, 17);
        map.put(42153, -1);
        map.put(42315, -1);
        map.put(42351, 15);
        map.put(42513, 7);
        map.put(42531, -1);
        map.put(43125, -1);
        map.put(43152, 17);
        map.put(43215, 7);
        map.put(43251, -1);
        map.put(43512, -1);
        map.put(43521, 11);
        map.put(45123, 19);
        map.put(45132, -1);
        map.put(45213, -1);
        map.put(45231, 11);
        map.put(45312, 11);
        map.put(45321, -1);
        map.put(51234, 17);
        map.put(51243, -1);
        map.put(51324, -1);
        map.put(51342, 13);
        map.put(51423, 11);
        map.put(51432, -1);
        map.put(52134, -1);
        map.put(52143, 5);
        map.put(52314, 13);
        map.put(52341, -1);
        map.put(52413, -1);
        map.put(52431, 15);
        map.put(53124, 11);
        map.put(53142, -1);
        map.put(53214, -1);
        map.put(53241, 15);
        map.put(53412, 17);
        map.put(53421, -1);
        map.put(54123, -1);
        map.put(54132, 11);
        map.put(54213, 11);
        map.put(54231, -1);
        map.put(54312, -1);
        map.put(54321, 15);
        map.put(102345, 14);
        map.put(102354, -1);
        map.put(102435, -1);
        map.put(102453, 2);
        map.put(102534, 14);
        map.put(102543, -1);
        map.put(103245, -1);
        map.put(103254, 14);
        map.put(103425, 2);
        map.put(103452, -1);
        map.put(103524, -1);
        map.put(103542, 16);
        map.put(104235, 16);
        map.put(104253, -1);
        map.put(104325, -1);
        map.put(104352, 14);
        map.put(104523, 12);
        map.put(104532, -1);
        map.put(105234, -1);
        map.put(105243, 16);
        map.put(105324, 12);
        map.put(105342, -1);
        map.put(105423, -1);
        map.put(105432, 6);
        map.put(120345, 13);
        map.put(120354, -1);
        map.put(120435, -1);
        map.put(120453, 1);
        map.put(120534, 13);
        map.put(120543, -1);
        map.put(123045, 2);
        map.put(123054, -1);
        map.put(123405, 1);
        map.put(123450, 0);
        map.put(123504, -1);
        map.put(123540, -1);
        map.put(124035, -1);
        map.put(124053, 10);
        map.put(124305, -1);
        map.put(124350, -1);
        map.put(124503, 11);
        map.put(124530, 12);
        map.put(125034, 10);
        map.put(125043, -1);
        map.put(125304, 11);
        map.put(125340, 12);
        map.put(125403, -1);
        map.put(125430, -1);
        map.put(130245, -1);
        map.put(130254, 15);
        map.put(130425, 3);
        map.put(130452, -1);
        map.put(130524, -1);
        map.put(130542, 17);
        map.put(132045, -1);
        map.put(132054, 14);
        map.put(132405, -1);
        map.put(132450, -1);
        map.put(132504, 15);
        map.put(132540, 16);
        map.put(134025, 14);
        map.put(134052, -1);
        map.put(134205, 15);
        map.put(134250, 16);
        map.put(134502, -1);
        map.put(134520, -1);
        map.put(135024, -1);
        map.put(135042, 6);
        map.put(135204, -1);
        map.put(135240, -1);
        map.put(135402, 5);
        map.put(135420, 4);
        map.put(140235, 17);
        map.put(140253, -1);
        map.put(140325, -1);
        map.put(140352, 15);
        map.put(140523, 13);
        map.put(140532, -1);
        map.put(142035, 16);
        map.put(142053, -1);
        map.put(142305, 15);
        map.put(142350, 16);
        map.put(142503, -1);
        map.put(142530, -1);
        map.put(143025, -1);
        map.put(143052, 16);
        map.put(143205, -1);
        map.put(143250, -1);
        map.put(143502, 15);
        map.put(143520, 14);
        map.put(145023, 18);
        map.put(145032, -1);
        map.put(145203, 17);
        map.put(145230, 18);
        map.put(145302, -1);
        map.put(145320, -1);
        map.put(150234, -1);
        map.put(150243, 15);
        map.put(150324, 13);
        map.put(150342, -1);
        map.put(150423, -1);
        map.put(150432, 5);
        map.put(152034, -1);
        map.put(152043, 4);
        map.put(152304, -1);
        map.put(152340, -1);
        map.put(152403, 3);
        map.put(152430, 4);
        map.put(153024, 12);
        map.put(153042, -1);
        map.put(153204, 13);
        map.put(153240, 14);
        map.put(153402, -1);
        map.put(153420, -1);
        map.put(154023, -1);
        map.put(154032, 12);
        map.put(154203, -1);
        map.put(154230, -1);
        map.put(154302, 13);
        map.put(154320, 14);
        map.put(201345, -1);
        map.put(201354, 18);
        map.put(201435, 16);
        map.put(201453, -1);
        map.put(201534, -1);
        map.put(201543, 12);
        map.put(203145, 4);
        map.put(203154, -1);
        map.put(203415, -1);
        map.put(203451, 12);
        map.put(203514, 12);
        map.put(203541, -1);
        map.put(204135, -1);
        map.put(204153, 8);
        map.put(204315, 16);
        map.put(204351, -1);
        map.put(204513, -1);
        map.put(204531, 14);
        map.put(205134, 8);
        map.put(205143, -1);
        map.put(205314, -1);
        map.put(205341, 14);
        map.put(205413, 16);
        map.put(205431, -1);
        map.put(210345, -1);
        map.put(210354, 19);
        map.put(210435, 17);
        map.put(210453, -1);
        map.put(210534, -1);
        map.put(210543, 13);
        map.put(213045, -1);
        map.put(213054, 14);
        map.put(213405, -1);
        map.put(213450, -1);
        map.put(213504, 13);
        map.put(213540, 14);
        map.put(214035, 18);
        map.put(214053, -1);
        map.put(214305, 17);
        map.put(214350, 18);
        map.put(214503, -1);
        map.put(214530, -1);
        map.put(215034, -1);
        map.put(215043, 18);
        map.put(215304, -1);
        map.put(215340, -1);
        map.put(215403, 17);
        map.put(215430, 18);
        map.put(230145, 5);
        map.put(230154, -1);
        map.put(230415, -1);
        map.put(230451, 13);
        map.put(230514, 13);
        map.put(230541, -1);
        map.put(231045, 16);
        map.put(231054, -1);
        map.put(231405, 15);
        map.put(231450, 14);
        map.put(231504, -1);
        map.put(231540, -1);
        map.put(234015, -1);
        map.put(234051, 16);
        map.put(234105, -1);
        map.put(234150, -1);
        map.put(234501, 15);
        map.put(234510, 14);
        map.put(235014, 8);
        map.put(235041, -1);
        map.put(235104, 7);
        map.put(235140, 6);
        map.put(235401, -1);
        map.put(235410, -1);
        map.put(240135, -1);
        map.put(240153, 7);
        map.put(240315, 15);
        map.put(240351, -1);
        map.put(240513, -1);
        map.put(240531, 13);
        map.put(241035, -1);
        map.put(241053, 10);
        map.put(241305, -1);
        map.put(241350, -1);
        map.put(241503, 11);
        map.put(241530, 12);
        map.put(243015, 6);
        map.put(243051, -1);
        map.put(243105, 5);
        map.put(243150, 6);
        map.put(243501, -1);
        map.put(243510, -1);
        map.put(245013, -1);
        map.put(245031, 12);
        map.put(245103, -1);
        map.put(245130, -1);
        map.put(245301, 13);
        map.put(245310, 14);
        map.put(250134, 9);
        map.put(250143, -1);
        map.put(250314, -1);
        map.put(250341, 15);
        map.put(250413, 15);
        map.put(250431, -1);
        map.put(251034, 18);
        map.put(251043, -1);
        map.put(251304, 17);
        map.put(251340, 16);
        map.put(251403, -1);
        map.put(251430, -1);
        map.put(253014, -1);
        map.put(253041, 14);
        map.put(253104, -1);
        map.put(253140, -1);
        map.put(253401, 13);
        map.put(253410, 14);
        map.put(254013, 10);
        map.put(254031, -1);
        map.put(254103, 9);
        map.put(254130, 10);
        map.put(254301, -1);
        map.put(254310, -1);
        map.put(301245, 14);
        map.put(301254, -1);
        map.put(301425, -1);
        map.put(301452, 12);
        map.put(301524, 18);
        map.put(301542, -1);
        map.put(302145, -1);
        map.put(302154, 12);
        map.put(302415, 16);
        map.put(302451, -1);
        map.put(302514, -1);
        map.put(302541, 18);
        map.put(304125, 12);
        map.put(304152, -1);
        map.put(304215, -1);
        map.put(304251, 14);
        map.put(304512, 14);
        map.put(304521, -1);
        map.put(305124, -1);
        map.put(305142, 8);
        map.put(305214, 10);
        map.put(305241, -1);
        map.put(305412, -1);
        map.put(305421, 12);
        map.put(310245, 13);
        map.put(310254, -1);
        map.put(310425, -1);
        map.put(310452, 13);
        map.put(310524, 17);
        map.put(310542, -1);
        map.put(312045, 16);
        map.put(312054, -1);
        map.put(312405, 15);
        map.put(312450, 14);
        map.put(312504, -1);
        map.put(312540, -1);
        map.put(314025, -1);
        map.put(314052, 16);
        map.put(314205, -1);
        map.put(314250, -1);
        map.put(314502, 15);
        map.put(314520, 16);
        map.put(315024, 12);
        map.put(315042, -1);
        map.put(315204, 11);
        map.put(315240, 12);
        map.put(315402, -1);
        map.put(315420, -1);
        map.put(320145, -1);
        map.put(320154, 13);
        map.put(320415, 15);
        map.put(320451, -1);
        map.put(320514, -1);
        map.put(320541, 19);
        map.put(321045, -1);
        map.put(321054, 20);
        map.put(321405, -1);
        map.put(321450, -1);
        map.put(321504, 19);
        map.put(321540, 20);
        map.put(324015, 14);
        map.put(324051, -1);
        map.put(324105, 13);
        map.put(324150, 14);
        map.put(324501, -1);
        map.put(324510, -1);
        map.put(325014, -1);
        map.put(325041, 14);
        map.put(325104, -1);
        map.put(325140, -1);
        map.put(325401, 13);
        map.put(325410, 14);
        map.put(340125, 11);
        map.put(340152, -1);
        map.put(340215, -1);
        map.put(340251, 15);
        map.put(340512, 15);
        map.put(340521, -1);
        map.put(341025, 14);
        map.put(341052, -1);
        map.put(341205, 15);
        map.put(341250, 16);
        map.put(341502, -1);
        map.put(341520, -1);
        map.put(342015, -1);
        map.put(342051, 16);
        map.put(342105, -1);
        map.put(342150, -1);
        map.put(342501, 17);
        map.put(342510, 16);
        map.put(345012, 10);
        map.put(345021, -1);
        map.put(345102, 9);
        map.put(345120, 10);
        map.put(345201, -1);
        map.put(345210, -1);
        map.put(350124, -1);
        map.put(350142, 9);
        map.put(350214, 11);
        map.put(350241, -1);
        map.put(350412, -1);
        map.put(350421, 13);
        map.put(351024, -1);
        map.put(351042, 14);
        map.put(351204, -1);
        map.put(351240, -1);
        map.put(351402, 13);
        map.put(351420, 14);
        map.put(352014, 12);
        map.put(352041, -1);
        map.put(352104, 11);
        map.put(352140, 10);
        map.put(352401, -1);
        map.put(352410, -1);
        map.put(354012, -1);
        map.put(354021, 14);
        map.put(354102, -1);
        map.put(354120, -1);
        map.put(354201, 13);
        map.put(354210, 12);
        map.put(401235, -1);
        map.put(401253, 8);
        map.put(401325, 12);
        map.put(401352, -1);
        map.put(401523, -1);
        map.put(401532, 8);
        map.put(402135, 18);
        map.put(402153, -1);
        map.put(402315, -1);
        map.put(402351, 14);
        map.put(402513, 6);
        map.put(402531, -1);
        map.put(403125, -1);
        map.put(403152, 18);
        map.put(403215, 6);
        map.put(403251, -1);
        map.put(403512, -1);
        map.put(403521, 10);
        map.put(405123, 20);
        map.put(405132, -1);
        map.put(405213, -1);
        map.put(405231, 10);
        map.put(405312, 10);
        map.put(405321, -1);
        map.put(410235, -1);
        map.put(410253, 7);
        map.put(410325, 11);
        map.put(410352, -1);
        map.put(410523, -1);
        map.put(410532, 7);
        map.put(412035, -1);
        map.put(412053, 4);
        map.put(412305, -1);
        map.put(412350, -1);
        map.put(412503, 5);
        map.put(412530, 6);
        map.put(413025, 4);
        map.put(413052, -1);
        map.put(413205, 5);
        map.put(413250, 6);
        map.put(413502, -1);
        map.put(413520, -1);
        map.put(415023, -1);
        map.put(415032, 8);
        map.put(415203, -1);
        map.put(415230, -1);
        map.put(415302, 9);
        map.put(415320, 10);
        map.put(420135, 19);
        map.put(420153, -1);
        map.put(420315, -1);
        map.put(420351, 15);
        map.put(420513, 7);
        map.put(420531, -1);
        map.put(421035, 14);
        map.put(421053, -1);
        map.put(421305, 13);
        map.put(421350, 14);
        map.put(421503, -1);
        map.put(421530, -1);
        map.put(423015, -1);
        map.put(423051, 10);
        map.put(423105, -1);
        map.put(423150, -1);
        map.put(423501, 9);
        map.put(423510, 8);
        map.put(425013, 18);
        map.put(425031, -1);
        map.put(425103, 19);
        map.put(425130, 20);
        map.put(425301, -1);
        map.put(425310, -1);
        map.put(430125, -1);
        map.put(430152, 19);
        map.put(430215, 7);
        map.put(430251, -1);
        map.put(430512, -1);
        map.put(430521, 11);
        map.put(431025, -1);
        map.put(431052, 10);
        map.put(431205, -1);
        map.put(431250, -1);
        map.put(431502, 9);
        map.put(431520, 10);
        map.put(432015, 18);
        map.put(432051, -1);
        map.put(432105, 19);
        map.put(432150, 20);
        map.put(432501, -1);
        map.put(432510, -1);
        map.put(435012, -1);
        map.put(435021, 10);
        map.put(435102, -1);
        map.put(435120, -1);
        map.put(435201, 9);
        map.put(435210, 8);
        map.put(450123, 21);
        map.put(450132, -1);
        map.put(450213, -1);
        map.put(450231, 11);
        map.put(450312, 11);
        map.put(450321, -1);
        map.put(451023, 10);
        map.put(451032, -1);
        map.put(451203, 9);
        map.put(451230, 10);
        map.put(451302, -1);
        map.put(451320, -1);
        map.put(452013, -1);
        map.put(452031, 14);
        map.put(452103, -1);
        map.put(452130, -1);
        map.put(452301, 13);
        map.put(452310, 12);
        map.put(453012, 18);
        map.put(453021, -1);
        map.put(453102, 19);
        map.put(453120, 20);
        map.put(453201, -1);
        map.put(453210, -1);
        map.put(501234, 16);
        map.put(501243, -1);
        map.put(501324, -1);
        map.put(501342, 12);
        map.put(501423, 12);
        map.put(501432, -1);
        map.put(502134, -1);
        map.put(502143, 6);
        map.put(502314, 14);
        map.put(502341, -1);
        map.put(502413, -1);
        map.put(502431, 16);
        map.put(503124, 10);
        map.put(503142, -1);
        map.put(503214, -1);
        map.put(503241, 14);
        map.put(503412, 16);
        map.put(503421, -1);
        map.put(504123, -1);
        map.put(504132, 10);
        map.put(504213, 12);
        map.put(504231, -1);
        map.put(504312, -1);
        map.put(504321, 14);
        map.put(510234, 15);
        map.put(510243, -1);
        map.put(510324, -1);
        map.put(510342, 13);
        map.put(510423, 13);
        map.put(510432, -1);
        map.put(512034, 16);
        map.put(512043, -1);
        map.put(512304, 15);
        map.put(512340, 14);
        map.put(512403, -1);
        map.put(512430, -1);
        map.put(513024, -1);
        map.put(513042, 16);
        map.put(513204, -1);
        map.put(513240, -1);
        map.put(513402, 15);
        map.put(513420, 14);
        map.put(514023, 14);
        map.put(514032, -1);
        map.put(514203, 13);
        map.put(514230, 14);
        map.put(514302, -1);
        map.put(514320, -1);
        map.put(520134, -1);
        map.put(520143, 7);
        map.put(520314, 15);
        map.put(520341, -1);
        map.put(520413, -1);
        map.put(520431, 15);
        map.put(521034, -1);
        map.put(521043, 14);
        map.put(521304, -1);
        map.put(521340, -1);
        map.put(521403, 13);
        map.put(521430, 14);
        map.put(523014, 10);
        map.put(523041, -1);
        map.put(523104, 9);
        map.put(523140, 8);
        map.put(523401, -1);
        map.put(523410, -1);
        map.put(524013, -1);
        map.put(524031, 16);
        map.put(524103, -1);
        map.put(524130, -1);
        map.put(524301, 15);
        map.put(524310, 16);
        map.put(530124, 11);
        map.put(530142, -1);
        map.put(530214, -1);
        map.put(530241, 15);
        map.put(530412, 17);
        map.put(530421, -1);
        map.put(531024, 18);
        map.put(531042, -1);
        map.put(531204, 17);
        map.put(531240, 16);
        map.put(531402, -1);
        map.put(531420, -1);
        map.put(532014, -1);
        map.put(532041, 18);
        map.put(532104, -1);
        map.put(532140, -1);
        map.put(532401, 17);
        map.put(532410, 18);
        map.put(534012, 12);
        map.put(534021, -1);
        map.put(534102, 11);
        map.put(534120, 12);
        map.put(534201, -1);
        map.put(534210, -1);
        map.put(540123, -1);
        map.put(540132, 9);
        map.put(540213, 13);
        map.put(540231, -1);
        map.put(540312, -1);
        map.put(540321, 13);
        map.put(541023, -1);
        map.put(541032, 10);
        map.put(541203, -1);
        map.put(541230, -1);
        map.put(541302, 11);
        map.put(541320, 12);
        map.put(542013, 8);
        map.put(542031, -1);
        map.put(542103, 7);
        map.put(542130, 8);
        map.put(542301, -1);
        map.put(542310, -1);
        map.put(543012, -1);
        map.put(543021, 12);
        map.put(543102, -1);
        map.put(543120, -1);
        map.put(543201, 13);
        map.put(543210, 14);
    }

    public int slidingPuzzle(int[][] board) {
        return map.get(encode(board));
    }

    int encode(int[][] board) {
        return 100000 * board[0][0]
                + 10000 * board[0][1]
                + 1000 * board[0][2]
                + 100 * board[1][0]
                + 10 * board[1][1]
                + board[1][2];
    }

    public static void main(String[] args) {
        System.out.println(new Solution2().slidingPuzzle(new int[][]{{1, 2, 3}, {4, 0, 5}}));
        System.out.println(new Solution2().slidingPuzzle(new int[][]{{1, 2, 3}, {5, 4, 0}}));
        System.out.println(new Solution2().slidingPuzzle(new int[][]{{4, 1, 2}, {5, 0, 3}}));
    }

}
